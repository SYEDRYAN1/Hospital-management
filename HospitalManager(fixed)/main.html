<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nurse Interface</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>

  <div class="topbar">
    <button class="menu-icon add-button" id="menuIcon" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="doctorCategories" title="Toggle menu">â˜°</button>
    <div class="tabs">
      <div class="tab active">Doctor</div>
      <div class="tab">Nurse</div>
      <div class="tab">Analytic</div>
      <div class="tab">Analytic</div>
      <div class="tab">Analytic</div>
    </div>
    <div class="right-controls">
      <button class="add-button" id="addBtn" title="Add new">+</button>
    </div>
    <div class="add-menu" id="addMenu" aria-hidden="true">
      <div class="add-menu-item" data-action="add-doctor">+ Add Doctor</div>
      <div class="add-menu-item" data-action="add-nurse">+ Add Nurse</div>
      <div class="add-menu-item" data-action="add-patient">+ Add Patient</div>
    </div>
    
    <div class="doctor-categories" id="doctorCategories" style="display:none; position:absolute; top:40px; left:10px; background:#fff; border:1px solid #ccc; z-index:1000;">
      <button class="category-item" type="button" data-category="Cardiologist">Cardiologist</button>
      <button class="category-item" type="button" data-category="Neurologist">Neurologist</button>
      <button class="category-item" type="button" data-category="Pediatrician">Pediatrician</button>
      <button class="category-item" type="button" data-category="Surgeon">Surgeon</button>
      <button class="category-item" type="button" data-category="General Physician">General Physician</button>
    </div>
  </div>

  <div class="main-container">
    <div class="sidebar" id="doctorSidebar">
      <!-- Doctor items injected by JS -->
    </div>
    <div class="content">
      <div class="timing">Timing: 1am - 6am</div>
      <div class="doctor-title">Doctor 2</div>
      <div class="patient-info">
        <strong>Patient:</strong><br>
        John Doe<br>
        Room: 302<br>
        Condition: Stable
      </div>
      <a href="Details.html" class="details-button">More Details Patient</a>
    </div>
  </div>

  <script src="main.js"></script>
<script>
  // Toggle doctor categories dropdown (accessible button)
  (function() {
    const menuBtn = document.getElementById('menuIcon');
    const cat = document.getElementById('doctorCategories');
    // Ensure initial ARIA state and visibility
    if (!menuBtn.hasAttribute('aria-expanded')) menuBtn.setAttribute('aria-expanded', 'false');
    if (!cat.style.display) cat.style.display = 'none';

    menuBtn.addEventListener('click', function(e) {
      const isHidden = cat.style.display === 'none';
      cat.style.display = isHidden ? 'block' : 'none';
      menuBtn.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
    });

    // Optional: Hide dropdown when clicking outside
    document.addEventListener('click', function(e) {
      if (!menuBtn.contains(e.target) && !cat.contains(e.target)) {
        cat.style.display = 'none';
        menuBtn.setAttribute('aria-expanded', 'false');
      }
    });

    // Make category items actionable: close dropdown and update page when clicked
    const categoryButtons = cat.querySelectorAll('.category-item');
    categoryButtons.forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        const category = btn.getAttribute('data-category') || btn.textContent.trim();
        // Simple visible feedback: update doctor title to show selected category
        const titleEl = document.querySelector('.doctor-title');
        if (titleEl) titleEl.textContent = category;
        // Close dropdown and update aria
        cat.style.display = 'none';
        menuBtn.setAttribute('aria-expanded', 'false');
        // Optionally, you can emit a custom event or call other logic here
        // Example: document.dispatchEvent(new CustomEvent('category:selected', { detail: { category } }));
      });
    });
  })();
</script>
</body>
</html>